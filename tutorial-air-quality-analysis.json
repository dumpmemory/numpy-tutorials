{"version":3,"kind":"Notebook","sha256":"1d13e1d79cf09b6b0ee0a94af5517c61b6735742b89f3ca08de8475ad548ffeb","slug":"tutorial-air-quality-analysis","location":"/content/tutorial-air-quality-analysis.md","dependencies":[],"frontmatter":{"title":"Analyzing the impact of the lockdown on air quality in Delhi, India","short_title":"Analyzing Air Quality","kernelspec":{"name":"python3","display_name":"Python 3 (ipykernel)","language":"python"},"jupytext":{"formats":"ipynb,md:myst","text_representation":{"extension":".md","format_name":"myst","format_version":"0.13","jupytext_version":"1.11.5"}},"content_includes_title":false,"authors":[{"id":"Numpy Community","name":"Numpy Community"}],"github":"https://github.com/numpy/numpy-tutorials","numbering":{"title":{"offset":1}},"source_url":"https://github.com/numpy/numpy-tutorials/blob/main/content/tutorial-air-quality-analysis.md","edit_url":"https://github.com/numpy/numpy-tutorials/edit/main/content/tutorial-air-quality-analysis.md","thumbnail":"/numpy-tutorials/build/11-delhi-aqi-4aaaa25e10fb77d06b8728ef756d3370.jpg","exports":[{"format":"md","filename":"tutorial-air-quality-analysis.md","url":"/numpy-tutorials/build/tutorial-air-quality-265e81fb0ef5ea8851df3eef626f6951.md"}]},"mdast":{"type":"root","children":[{"type":"block","children":[{"type":"image","url":"/numpy-tutorials/build/11-delhi-aqi-4aaaa25e10fb77d06b8728ef756d3370.jpg","alt":"A grid showing the India Gate in smog above and clear air below","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"vknRJakNqs","urlSource":"_static/11-delhi-aqi.jpg"},{"type":"heading","depth":2,"position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"text","value":"What you’ll do","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"SNisUlHmJp"}],"identifier":"what-youll-do","label":"What you’ll do","html_id":"what-youll-do","implicit":true,"key":"u81vJkKxYG"},{"type":"paragraph","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"text","value":"Calculate Air Quality Indices (AQI) and perform paired Student’s t-test on them.","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"JwcZakXgDI"}],"key":"aiD3Wj9bfr"},{"type":"heading","depth":2,"position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"children":[{"type":"text","value":"What you’ll learn","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"key":"WxaCH7eamw"}],"identifier":"what-youll-learn","label":"What you’ll learn","html_id":"what-youll-learn","implicit":true,"key":"X8pzA48e8D"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":26,"column":1},"end":{"line":34,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":26,"column":1},"end":{"line":27,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"children":[{"type":"text","value":"You’ll learn the concept of moving averages","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"jTyYEmVWTf"}],"key":"W5l3QdLCFZ"}],"key":"rROnEKSMrR"},{"type":"listItem","spread":true,"position":{"start":{"line":28,"column":1},"end":{"line":29,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"children":[{"type":"text","value":"You’ll learn how to calculate Air Quality Index (AQI)","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"o9JVhHwjhC"}],"key":"HMJcUK1YBk"}],"key":"BSopohNq3v"},{"type":"listItem","spread":true,"position":{"start":{"line":30,"column":1},"end":{"line":31,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"children":[{"type":"text","value":"You’ll learn how to perform a paired Student’s t-test and find the ","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"key":"LlGf6SMvdw"},{"type":"inlineCode","value":"t","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"key":"DAk3xfDgg0"},{"type":"text","value":" and ","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"key":"ZIj6YPZuz2"},{"type":"inlineCode","value":"p","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"key":"rr0vFBDeZN"},{"type":"text","value":" values","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"key":"I23iTfAxQ6"}],"key":"xVET97GXX3"}],"key":"Yv1NRH5SMy"},{"type":"listItem","spread":true,"position":{"start":{"line":32,"column":1},"end":{"line":34,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"children":[{"type":"text","value":"You’ll learn how to interpret these values","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"key":"NFLV4u8alW"}],"key":"DzU5XKdFYr"}],"key":"GkDxSob34q"}],"key":"MgYJ8C1mna"},{"type":"heading","depth":2,"position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"children":[{"type":"text","value":"What you’ll need","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"key":"jUEhAwRD7M"}],"identifier":"what-youll-need","label":"What you’ll need","html_id":"what-youll-need","implicit":true,"key":"jkhWE1nIPi"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":37,"column":1},"end":{"line":41,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":37,"column":1},"end":{"line":38,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"children":[{"type":"link","url":"https://scipy.org/install/","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"children":[{"type":"text","value":"SciPy","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"key":"qmVceqC6d0"}],"urlSource":"https://scipy.org/install/","key":"Sk0wyz0e2R"},{"type":"text","value":" installed in your environment","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"key":"TkHQXX6Qn2"}],"key":"aqRAc8SAtX"}],"key":"ZQVska75JI"},{"type":"listItem","spread":true,"position":{"start":{"line":39,"column":1},"end":{"line":41,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":39,"column":1},"end":{"line":39,"column":1}},"children":[{"type":"text","value":"Basic understanding of statistical terms like population, sample, mean, standard deviation etc.","position":{"start":{"line":39,"column":1},"end":{"line":39,"column":1}},"key":"xc9hzdUgAf"}],"key":"iigakOo8Vw"}],"key":"dwtPmnWuct"}],"key":"QqIF0H5hdv"},{"type":"thematicBreak","position":{"start":{"line":42,"column":1},"end":{"line":42,"column":1}},"key":"FsqIkf0T9G"}],"key":"aj85e7NL05"},{"type":"block","position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"children":[{"type":"heading","depth":2,"position":{"start":{"line":46,"column":1},"end":{"line":46,"column":1}},"children":[{"type":"text","value":"The problem of air pollution","position":{"start":{"line":46,"column":1},"end":{"line":46,"column":1}},"key":"ovddt5FhPp"}],"identifier":"the-problem-of-air-pollution","label":"The problem of air pollution","html_id":"the-problem-of-air-pollution","implicit":true,"key":"GZNzi0dmVB"},{"type":"paragraph","position":{"start":{"line":48,"column":1},"end":{"line":53,"column":1}},"children":[{"type":"text","value":"Air pollution is one of the most prominent types of pollution we face that has an immediate effect on our daily lives. The\nCOVID-19 pandemic resulted in lockdowns in different parts of the world; offering a rare opportunity to study the effect of\nhuman activity (or lack thereof) on air pollution. In this tutorial, we will study the air quality in Delhi, one of the\nworst affected cities by air pollution, before and during the lockdown from March to June 2020. For this, we will first compute\nthe Air Quality Index for each hour from the collected pollutant measurements. Next, we will sample these indices and perform\na ","position":{"start":{"line":48,"column":1},"end":{"line":48,"column":1}},"key":"QCNWInEygs"},{"type":"link","url":"https://en.wikipedia.org/wiki/Student%27s_t-test#Dependent_t-test_for_paired_samples","position":{"start":{"line":48,"column":1},"end":{"line":48,"column":1}},"children":[{"type":"text","value":"paired Student’s t-test","position":{"start":{"line":48,"column":1},"end":{"line":48,"column":1}},"key":"on4Y4qtiyg"}],"urlSource":"https://en.wikipedia.org/wiki/Student%27s_t-test#Dependent_t-test_for_paired_samples","data":{"page":"Student%27s_t-test#Dependent_t-test_for_paired_samples","wiki":"https://en.wikipedia.org/","lang":"en"},"internal":false,"protocol":"wiki","key":"tDFc61lxoe"},{"type":"text","value":" on them. It will statistically show us that the air quality improved due to the lockdown, supporting our intuition.","position":{"start":{"line":48,"column":1},"end":{"line":48,"column":1}},"key":"KDzsOL962f"}],"key":"qRIJQ27dgX"},{"type":"paragraph","position":{"start":{"line":55,"column":1},"end":{"line":55,"column":1}},"children":[{"type":"text","value":"Let’s start by importing the necessary libraries into our environment.","position":{"start":{"line":55,"column":1},"end":{"line":55,"column":1}},"key":"Glh7y5Fj7S"}],"key":"f6bD74beKN"}],"key":"XPS62YQk0h"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import numpy as np\nfrom numpy.random import default_rng\nfrom scipy import stats","key":"IVGJKxMIod"},{"type":"outputs","id":"WV4xkcTS6EmPT2I3gpkB-","children":[],"key":"gK81VbUPD9"}],"key":"v1oknINvOw"},{"type":"block","children":[{"type":"heading","depth":2,"position":{"start":{"line":63,"column":1},"end":{"line":63,"column":1}},"children":[{"type":"text","value":"Building the dataset","position":{"start":{"line":63,"column":1},"end":{"line":63,"column":1}},"key":"TudGK6VXtg"}],"identifier":"building-the-dataset","label":"Building the dataset","html_id":"building-the-dataset","implicit":true,"key":"Ggha93wIiE"},{"type":"paragraph","position":{"start":{"line":65,"column":1},"end":{"line":67,"column":1}},"children":[{"type":"text","value":"We will use a condensed version of the ","position":{"start":{"line":65,"column":1},"end":{"line":65,"column":1}},"key":"T1GkhT5kYa"},{"type":"link","url":"https://www.kaggle.com/rohanrao/air-quality-data-in-india","position":{"start":{"line":65,"column":1},"end":{"line":65,"column":1}},"children":[{"type":"text","value":"Air Quality Data in India","position":{"start":{"line":65,"column":1},"end":{"line":65,"column":1}},"key":"F8vpb0N1EH"}],"urlSource":"https://www.kaggle.com/rohanrao/air-quality-data-in-india","key":"o9X3cq774E"},{"type":"text","value":" dataset. This dataset contains air quality data and AQI (Air Quality Index) at hourly and daily level of various stations across multiple cities in India. The condensed version available with this tutorial contains hourly pollutant measurements for Delhi\nfrom May 31, 2019 to June 30, 2020. It has measurements of the standard pollutants that are required for Air Quality Index calculation and a few other important ones:\nParticulate Matter (PM 2.5 and PM 10), nitrogen dioxide (NO2), ammonia (NH3), sulfur dioxide (SO2), carbon monoxide (CO), ozone (O3), oxides of nitrogen (NOx), nitric oxide (NO), benzene, toluene, and xylene.","position":{"start":{"line":65,"column":1},"end":{"line":65,"column":1}},"key":"Xa9V5IV0Nd"}],"key":"rCIM3LrTMO"},{"type":"paragraph","position":{"start":{"line":69,"column":1},"end":{"line":69,"column":1}},"children":[{"type":"text","value":"Let’s print out the first few rows to have a glimpse of our dataset.","position":{"start":{"line":69,"column":1},"end":{"line":69,"column":1}},"key":"O1SGC48X4M"}],"key":"j5rxKBNFKm"}],"key":"fogirRJFbi"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"! head air-quality-data.csv","key":"JKdMY3Jvho"},{"type":"outputs","id":"WJp-cDOcl7DZikiZ-JL4a","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"Datetime,PM2.5,PM10,NO2,NH3,SO2,CO,O3,NOx,NO,Benzene,Toluene,Xylene\r\n2019-05-31 00:00:00,103.26,305.46,94.71,31.43,30.16,3.0,18.06,178.31,152.73,13.65,83.47,2.54\r\n2019-05-31 01:00:00,104.47,309.14,74.66,34.08,27.02,1.69,18.65,106.5,79.98,11.35,76.79,2.91\r\n2019-05-31 02:00:00,90.0,314.02,48.11,32.6,18.12,0.83,28.27,48.45,25.27,5.66,32.91,1.59\r\n2019-05-31 03:00:00,78.01,356.14,45.45,30.21,16.78,0.79,27.47,44.22,21.5,3.6,21.41,0.78\r\n2019-05-31 04:00:00,80.19,372.9,45.23,28.68,16.41,0.76,26.92,44.06,22.15,4.5,23.39,0.62\r\n2019-05-31 05:00:00,83.59,389.97,39.49,27.71,17.42,0.76,28.71,39.33,21.04,3.25,23.59,0.56\r\n2019-05-31 06:00:00,79.04,371.64,39.61,26.87,16.91,0.84,29.26,43.11,24.37,3.12,15.27,0.46\r\n2019-05-31 07:00:00,77.32,361.88,42.63,27.26,17.86,0.96,27.07,48.22,28.81,3.32,14.42,0.41\r\n2019-05-31 08:00:00,84.3,377.77,42.49,28.41,20.19,0.98,33.05,48.22,27.76,3.4,14.53,0.4\r\n"},"key":"VCxfeoOSVc"}],"key":"NN13Mmu69b"}],"key":"vQIxcNchfC"},{"type":"block","children":[{"type":"paragraph","position":{"start":{"line":75,"column":1},"end":{"line":76,"column":1}},"children":[{"type":"text","value":"For the purpose of this tutorial, we are only concerned with standard pollutants required for calculating the AQI, viz., PM 2.5, PM 10, NO2, NH3, SO2, CO, and O3. So, we will only import these particular columns with ","position":{"start":{"line":75,"column":1},"end":{"line":75,"column":1}},"key":"TxUmNeigTf"},{"type":"link","url":"https://numpy.org/devdocs/reference/generated/numpy.loadtxt.html","position":{"start":{"line":75,"column":1},"end":{"line":75,"column":1}},"children":[{"type":"text","value":"np.loadtxt","position":{"start":{"line":75,"column":1},"end":{"line":75,"column":1}},"key":"EkOVFNkOa7"}],"urlSource":"https://numpy.org/devdocs/reference/generated/numpy.loadtxt.html","key":"KFqMMqXjOH"},{"type":"text","value":". We’ll then ","position":{"start":{"line":75,"column":1},"end":{"line":75,"column":1}},"key":"KeqUsWH5dG"},{"type":"link","url":"https://numpy.org/devdocs/glossary.html#term-0","position":{"start":{"line":75,"column":1},"end":{"line":75,"column":1}},"children":[{"type":"text","value":"slice","position":{"start":{"line":75,"column":1},"end":{"line":75,"column":1}},"key":"Rul9ziQXw9"}],"urlSource":"https://numpy.org/devdocs/glossary.html#term-0","key":"frvw9NqTfh"},{"type":"text","value":" and create two sets: ","position":{"start":{"line":75,"column":1},"end":{"line":75,"column":1}},"key":"tSgzw1k7U9"},{"type":"inlineCode","value":"pollutants_A","position":{"start":{"line":75,"column":1},"end":{"line":75,"column":1}},"key":"YCMBGaAG6w"},{"type":"text","value":" with PM 2.5, PM 10, NO2, NH3, and SO2, and ","position":{"start":{"line":75,"column":1},"end":{"line":75,"column":1}},"key":"zYKHexx4B8"},{"type":"inlineCode","value":"pollutants_B","position":{"start":{"line":75,"column":1},"end":{"line":75,"column":1}},"key":"MKVvkxADoz"},{"type":"text","value":" with CO and O3. The\ntwo sets will be processed slightly differently, as we’ll see later on.","position":{"start":{"line":75,"column":1},"end":{"line":75,"column":1}},"key":"fjroYHmvhY"}],"key":"JZDrD3HEcC"}],"key":"P9ElXub0S5"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"pollutant_data = np.loadtxt(\"air-quality-data.csv\", dtype=float, delimiter=\",\",\n                            skiprows=1, usecols=range(1, 8))\npollutants_A = pollutant_data[:, 0:5]\npollutants_B = pollutant_data[:, 5:]\n\nprint(pollutants_A.shape)\nprint(pollutants_B.shape)","key":"vgGxTz0gPO"},{"type":"outputs","id":"g_yKHE2QNltP0ni-p1apa","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"(9528, 5)\n(9528, 2)\n"},"key":"URb6JSd4HY"}],"key":"aXH5fNrqB8"}],"key":"c8ymEdltir"},{"type":"block","children":[{"type":"paragraph","position":{"start":{"line":88,"column":1},"end":{"line":88,"column":1}},"children":[{"type":"text","value":"Our dataset might contain missing values, denoted by ","position":{"start":{"line":88,"column":1},"end":{"line":88,"column":1}},"key":"HLkzGcB6JR"},{"type":"inlineCode","value":"NaN","position":{"start":{"line":88,"column":1},"end":{"line":88,"column":1}},"key":"ur09RcdrTZ"},{"type":"text","value":", so let’s do a quick check with ","position":{"start":{"line":88,"column":1},"end":{"line":88,"column":1}},"key":"s6hjitAHFn"},{"type":"link","url":"https://numpy.org/devdocs/reference/generated/numpy.isfinite.html","position":{"start":{"line":88,"column":1},"end":{"line":88,"column":1}},"children":[{"type":"text","value":"np.isfinite","position":{"start":{"line":88,"column":1},"end":{"line":88,"column":1}},"key":"oK91GSvO4T"}],"urlSource":"https://numpy.org/devdocs/reference/generated/numpy.isfinite.html","key":"HgGLcOmwhf"},{"type":"text","value":".","position":{"start":{"line":88,"column":1},"end":{"line":88,"column":1}},"key":"f6Pthle2yh"}],"key":"lxW4I0suGj"}],"key":"lBQ4oImhHb"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"np.all(np.isfinite(pollutant_data))","key":"ZxWj4AVRg7"},{"type":"outputs","id":"N7Ij9zyxsOYyF56ox9Ygm","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"execute_result","execution_count":4,"metadata":{},"data":{"text/plain":{"content":"np.True_","content_type":"text/plain"}}},"key":"BNGDwQdGTy"}],"key":"RkepkFHE1y"}],"key":"OTo1VBUUjN"},{"type":"block","children":[{"type":"paragraph","position":{"start":{"line":94,"column":1},"end":{"line":94,"column":1}},"children":[{"type":"text","value":"With this, we have successfully imported the data and checked that it is complete. Let’s move on to the AQI calculations!","position":{"start":{"line":94,"column":1},"end":{"line":94,"column":1}},"key":"TqdqNQwecL"}],"key":"ZyvkaaVOPC"}],"key":"xzWNE1yBMI"},{"type":"block","position":{"start":{"line":96,"column":1},"end":{"line":96,"column":1}},"children":[{"type":"heading","depth":2,"position":{"start":{"line":98,"column":1},"end":{"line":98,"column":1}},"children":[{"type":"text","value":"Calculating the Air Quality Index","position":{"start":{"line":98,"column":1},"end":{"line":98,"column":1}},"key":"K4f7Mo3wIA"}],"identifier":"calculating-the-air-quality-index","label":"Calculating the Air Quality Index","html_id":"calculating-the-air-quality-index","implicit":true,"key":"yf9bZjVdRB"},{"type":"paragraph","position":{"start":{"line":101,"column":1},"end":{"line":101,"column":1}},"children":[{"type":"text","value":"We will calculate the AQI using the method adopted by the Central Pollution Control Board of India.  To summarize the steps:","position":{"start":{"line":101,"column":1},"end":{"line":101,"column":1}},"key":"FOlhOvOSYn"}],"key":"s6HnCRfAHC"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":103,"column":1},"end":{"line":125,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":103,"column":1},"end":{"line":105,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":103,"column":1},"end":{"line":103,"column":1}},"children":[{"type":"text","value":"Collect 24-hourly average concentration values for the standard pollutants; 8-hourly in case of CO and O3.","position":{"start":{"line":103,"column":1},"end":{"line":103,"column":1}},"key":"fUiHTGuWTl"}],"key":"HgQH3JnO89"}],"key":"s5fOSp1ML9"},{"type":"listItem","spread":true,"position":{"start":{"line":106,"column":1},"end":{"line":123,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":106,"column":1},"end":{"line":106,"column":1}},"children":[{"type":"text","value":"Calculate the sub-indices for these pollutants with the formula:","position":{"start":{"line":106,"column":1},"end":{"line":106,"column":1}},"key":"WQASuMTrcg"}],"key":"biEmp5ONXo"},{"type":"math","value":"Ip = \\dfrac{\\text{IHi – ILo}}{\\text{BPHi – BPLo}}\\cdot{\\text{Cp – BPLo}} + \\text{ILo}","position":{"start":{"line":109,"column":1},"end":{"line":111,"column":1}},"html":"<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>I</mi><mi>p</mi><mo>=</mo><mfrac><mtext>IHi – ILo</mtext><mtext>BPHi – BPLo</mtext></mfrac><mo>⋅</mo><mtext>Cp – BPLo</mtext><mo>+</mo><mtext>ILo</mtext></mrow><annotation encoding=\"application/x-tex\">Ip = \\dfrac{\\text{IHi – ILo}}{\\text{BPHi – BPLo}}\\cdot{\\text{Cp – BPLo}} + \\text{ILo}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8778em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">I</span><span class=\"mord mathnormal\">p</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.0463em;vertical-align:-0.686em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.3603em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord text\"><span class=\"mord\">BPHi – BPLo</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord text\"><span class=\"mord\">IHi – ILo</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.686em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">⋅</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8778em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord text\"><span class=\"mord\">Cp – BPLo</span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord text\"><span class=\"mord\">ILo</span></span></span></span></span></span>","enumerator":"1","key":"dcd3i6HfGh"},{"type":"paragraph","position":{"start":{"line":114,"column":1},"end":{"line":114,"column":1}},"children":[{"type":"text","value":"Where,","position":{"start":{"line":114,"column":1},"end":{"line":114,"column":1}},"key":"lOTiJ0iSpR"}],"key":"PWCoF9M8oy"},{"type":"paragraph","position":{"start":{"line":116,"column":1},"end":{"line":121,"column":1}},"children":[{"type":"inlineCode","value":"Ip","position":{"start":{"line":116,"column":1},"end":{"line":116,"column":1}},"key":"uIhkvbXR2K"},{"type":"text","value":" = sub-index of pollutant ","position":{"start":{"line":116,"column":1},"end":{"line":116,"column":1}},"key":"zbJhwhqglv"},{"type":"inlineCode","value":"p","position":{"start":{"line":116,"column":1},"end":{"line":116,"column":1}},"key":"RQ9F0uoHkb"},{"type":"break","position":{"start":{"line":116,"column":1},"end":{"line":116,"column":1}},"key":"WdbJPSe1nc"},{"type":"inlineCode","value":"Cp","position":{"start":{"line":116,"column":1},"end":{"line":116,"column":1}},"key":"SWusnkRftm"},{"type":"text","value":" = averaged concentration of pollutant ","position":{"start":{"line":116,"column":1},"end":{"line":116,"column":1}},"key":"fqJ90UanKG"},{"type":"inlineCode","value":"p","position":{"start":{"line":116,"column":1},"end":{"line":116,"column":1}},"key":"pHDVP97xdP"},{"type":"break","position":{"start":{"line":116,"column":1},"end":{"line":116,"column":1}},"key":"L5kGCZAr3E"},{"type":"inlineCode","value":"BPHi","position":{"start":{"line":116,"column":1},"end":{"line":116,"column":1}},"key":"JnMSdJ5cOG"},{"type":"text","value":" = concentration breakpoint i.e. greater than or equal to ","position":{"start":{"line":116,"column":1},"end":{"line":116,"column":1}},"key":"F6QStlAbxI"},{"type":"inlineCode","value":"Cp","position":{"start":{"line":116,"column":1},"end":{"line":116,"column":1}},"key":"Sr9xnnANiy"},{"type":"break","position":{"start":{"line":116,"column":1},"end":{"line":116,"column":1}},"key":"dzb54Vw1ta"},{"type":"inlineCode","value":"BPLo","position":{"start":{"line":116,"column":1},"end":{"line":116,"column":1}},"key":"NTcsgxDndU"},{"type":"text","value":" = concentration breakpoint i.e. less than or equal to ","position":{"start":{"line":116,"column":1},"end":{"line":116,"column":1}},"key":"EmH9YyTCdo"},{"type":"inlineCode","value":"Cp","position":{"start":{"line":116,"column":1},"end":{"line":116,"column":1}},"key":"VXQXxFvR7p"},{"type":"break","position":{"start":{"line":116,"column":1},"end":{"line":116,"column":1}},"key":"rBeGD92FHc"},{"type":"inlineCode","value":"IHi","position":{"start":{"line":116,"column":1},"end":{"line":116,"column":1}},"key":"h5fA8fszId"},{"type":"text","value":" = AQI value corresponding to ","position":{"start":{"line":116,"column":1},"end":{"line":116,"column":1}},"key":"bzPhuW98zH"},{"type":"inlineCode","value":"BPHi","position":{"start":{"line":116,"column":1},"end":{"line":116,"column":1}},"key":"HbD2XHA0lb"},{"type":"break","position":{"start":{"line":116,"column":1},"end":{"line":116,"column":1}},"key":"d5s0ydc6Dv"},{"type":"inlineCode","value":"ILo","position":{"start":{"line":116,"column":1},"end":{"line":116,"column":1}},"key":"jEutwJTfzD"},{"type":"text","value":" = AQI value corresponding to ","position":{"start":{"line":116,"column":1},"end":{"line":116,"column":1}},"key":"zQLpA1rSVm"},{"type":"inlineCode","value":"BPLo","position":{"start":{"line":116,"column":1},"end":{"line":116,"column":1}},"key":"YWiod0Q6Td"}],"key":"EQZLgOxfKq"}],"key":"BEvUUxWXiv"},{"type":"listItem","spread":true,"position":{"start":{"line":124,"column":1},"end":{"line":125,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":124,"column":1},"end":{"line":124,"column":1}},"children":[{"type":"text","value":"The maximum sub-index at any given time is the Air Quality Index.","position":{"start":{"line":124,"column":1},"end":{"line":124,"column":1}},"key":"CsR4mZRO54"}],"key":"oRuzHacDP5"}],"key":"Cjw5saKW4x"}],"key":"SXAEmdMs9J"},{"type":"paragraph","position":{"start":{"line":126,"column":1},"end":{"line":126,"column":1}},"children":[{"type":"text","value":"The Air Quality Index is calculated with the help of breakpoint ranges as shown in the chart below.","position":{"start":{"line":126,"column":1},"end":{"line":126,"column":1}},"key":"JoeBSJLeKT"}],"key":"yIefbEr4Uw"},{"type":"image","url":"/numpy-tutorials/build/11-breakpoints-fff223186c3609324aa62bfe568947f4.png","alt":"Chart of the breakpoint ranges","position":{"start":{"line":128,"column":1},"end":{"line":128,"column":1}},"key":"eh6mtUdvUn","urlSource":"_static/11-breakpoints.png"},{"type":"paragraph","position":{"start":{"line":131,"column":1},"end":{"line":131,"column":1}},"children":[{"type":"text","value":"Let’s create two arrays to store the AQI ranges and breakpoints so that we can use them later for our calculations.","position":{"start":{"line":131,"column":1},"end":{"line":131,"column":1}},"key":"r1lLQldSip"}],"key":"BQaCV3l7GH"}],"key":"c7QEiL953v"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"AQI = np.array([0, 51, 101, 201, 301, 401, 501])\n\nbreakpoints = {\n    'PM2.5': np.array([0, 31, 61, 91, 121, 251]),\n    'PM10': np.array([0, 51, 101, 251, 351, 431]),\n    'NO2': np.array([0, 41, 81, 181, 281, 401]),\n    'NH3': np.array([0, 201, 401, 801, 1201, 1801]),\n    'SO2': np.array([0, 41, 81, 381, 801, 1601]),\n    'CO': np.array([0, 1.1, 2.1, 10.1, 17.1, 35]),\n    'O3': np.array([0, 51, 101, 169, 209, 749])\n}","key":"tlQM2PRWQt"},{"type":"outputs","id":"Z0lvWmW2Fk53eAUYHwH8C","children":[],"key":"ZrrTB6at3p"}],"key":"dzuJDSQgSF"},{"type":"block","children":[{"type":"heading","depth":3,"position":{"start":{"line":147,"column":1},"end":{"line":147,"column":1}},"children":[{"type":"text","value":"Moving averages","position":{"start":{"line":147,"column":1},"end":{"line":147,"column":1}},"key":"HKRvBLVWiC"}],"identifier":"moving-averages","label":"Moving averages","html_id":"moving-averages","implicit":true,"key":"WZvzRKgdI8"},{"type":"paragraph","position":{"start":{"line":149,"column":1},"end":{"line":150,"column":1}},"children":[{"type":"text","value":"For the first step, we have to compute ","position":{"start":{"line":149,"column":1},"end":{"line":149,"column":1}},"key":"trSyjoMe2u"},{"type":"link","url":"https://en.wikipedia.org/wiki/Moving_average","position":{"start":{"line":149,"column":1},"end":{"line":149,"column":1}},"children":[{"type":"text","value":"moving averages","position":{"start":{"line":149,"column":1},"end":{"line":149,"column":1}},"key":"vGXsDBnLzl"}],"urlSource":"https://en.wikipedia.org/wiki/Moving_average","data":{"page":"Moving_average","wiki":"https://en.wikipedia.org/","lang":"en"},"internal":false,"protocol":"wiki","key":"CYqjWL6uIu"},{"type":"text","value":" for ","position":{"start":{"line":149,"column":1},"end":{"line":149,"column":1}},"key":"wNrmIExs3M"},{"type":"inlineCode","value":"pollutants_A","position":{"start":{"line":149,"column":1},"end":{"line":149,"column":1}},"key":"v8dX4ynsWE"},{"type":"text","value":" over a window of 24 hours and ","position":{"start":{"line":149,"column":1},"end":{"line":149,"column":1}},"key":"ybTe44pYNF"},{"type":"inlineCode","value":"pollutants_B","position":{"start":{"line":149,"column":1},"end":{"line":149,"column":1}},"key":"thK7erNMNk"},{"type":"text","value":" over a\nwindow of 8 hours. We will write a simple function ","position":{"start":{"line":149,"column":1},"end":{"line":149,"column":1}},"key":"xCFy6Bep6P"},{"type":"inlineCode","value":"moving_mean","position":{"start":{"line":149,"column":1},"end":{"line":149,"column":1}},"key":"H1faWHtifX"},{"type":"text","value":" using ","position":{"start":{"line":149,"column":1},"end":{"line":149,"column":1}},"key":"axSe6Yghwb"},{"type":"link","url":"https://numpy.org/devdocs/reference/generated/numpy.cumsum.html","position":{"start":{"line":149,"column":1},"end":{"line":149,"column":1}},"children":[{"type":"text","value":"np.cumsum","position":{"start":{"line":149,"column":1},"end":{"line":149,"column":1}},"key":"LD6BcmFVU0"}],"urlSource":"https://numpy.org/devdocs/reference/generated/numpy.cumsum.html","key":"EHL7OGvSG4"},{"type":"text","value":" and ","position":{"start":{"line":149,"column":1},"end":{"line":149,"column":1}},"key":"Dz5057kF5N"},{"type":"link","url":"https://numpy.org/devdocs/user/basics.indexing.html#slicing-and-striding","position":{"start":{"line":149,"column":1},"end":{"line":149,"column":1}},"children":[{"type":"text","value":"sliced indexing","position":{"start":{"line":149,"column":1},"end":{"line":149,"column":1}},"key":"f8KbL9Rxj4"}],"urlSource":"https://numpy.org/devdocs/user/basics.indexing.html#slicing-and-striding","key":"pu7He46W6v"},{"type":"text","value":" to achieve this.","position":{"start":{"line":149,"column":1},"end":{"line":149,"column":1}},"key":"QPx2QKwB2x"}],"key":"mBv8sYZlZe"},{"type":"paragraph","position":{"start":{"line":152,"column":1},"end":{"line":153,"column":1}},"children":[{"type":"text","value":"To make sure both the sets are of the same length, we will truncate the ","position":{"start":{"line":152,"column":1},"end":{"line":152,"column":1}},"key":"pDHORb6DXL"},{"type":"inlineCode","value":"pollutants_B_8hr_avg","position":{"start":{"line":152,"column":1},"end":{"line":152,"column":1}},"key":"uhTIfZeuMn"},{"type":"text","value":" according to the length of\n","position":{"start":{"line":152,"column":1},"end":{"line":152,"column":1}},"key":"lQeI96C4X4"},{"type":"inlineCode","value":"pollutants_A_24hr_avg","position":{"start":{"line":152,"column":1},"end":{"line":152,"column":1}},"key":"ARY88uzd2O"},{"type":"text","value":". This will also ensure we have concentrations for all the pollutants over the same period of time.","position":{"start":{"line":152,"column":1},"end":{"line":152,"column":1}},"key":"Nj4fa0043c"}],"key":"DtS82LUZFU"}],"key":"Ii2fMZnkaM"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"def moving_mean(a, n):\n    ret = np.cumsum(a, dtype=float, axis=0)\n    ret[n:] = ret[n:] - ret[:-n]\n    return ret[n - 1:] / n\n\npollutants_A_24hr_avg = moving_mean(pollutants_A, 24)\npollutants_B_8hr_avg = moving_mean(pollutants_B, 8)[-(pollutants_A_24hr_avg.shape[0]):]","key":"DUQXgJflPg"},{"type":"outputs","id":"FgbW6KzhwwoKFoct1GLY1","children":[],"key":"d9PSDhA0Nh"}],"key":"VMxaQneXx6"},{"type":"block","children":[{"type":"paragraph","position":{"start":{"line":165,"column":1},"end":{"line":166,"column":1}},"children":[{"type":"text","value":"Now, we can join both sets with ","position":{"start":{"line":165,"column":1},"end":{"line":165,"column":1}},"key":"ASN5EpNisS"},{"type":"link","url":"https://numpy.org/devdocs/reference/generated/numpy.concatenate.html","position":{"start":{"line":165,"column":1},"end":{"line":165,"column":1}},"children":[{"type":"text","value":"np.concatenate","position":{"start":{"line":165,"column":1},"end":{"line":165,"column":1}},"key":"gcxIeuAaYW"}],"urlSource":"https://numpy.org/devdocs/reference/generated/numpy.concatenate.html","key":"eHt4ijdVck"},{"type":"text","value":" to form a single data set of all the averaged concentrations. Note that we have to join our arrays column-wise so we pass the\n","position":{"start":{"line":165,"column":1},"end":{"line":165,"column":1}},"key":"pLzt60QJPD"},{"type":"inlineCode","value":"axis=1","position":{"start":{"line":165,"column":1},"end":{"line":165,"column":1}},"key":"cUixfDzzuM"},{"type":"text","value":" parameter.","position":{"start":{"line":165,"column":1},"end":{"line":165,"column":1}},"key":"XOYWcpuD5I"}],"key":"w72XwqqxwP"}],"key":"oNUoXBVQAX"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"pollutants = np.concatenate((pollutants_A_24hr_avg, pollutants_B_8hr_avg), axis=1)","key":"SzdXfrJ0lH"},{"type":"outputs","id":"oVLyv3bUHb9IKefQJy3Fe","children":[],"key":"HAcIdqveVa"}],"key":"JB6Nh8V4Eu"},{"type":"block","children":[{"type":"heading","depth":3,"position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"children":[{"type":"text","value":"Sub-indices","position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"key":"uzZ3JSNVXW"}],"identifier":"sub-indices","label":"Sub-indices","html_id":"sub-indices","implicit":true,"key":"e9wkGT9npP"},{"type":"paragraph","position":{"start":{"line":174,"column":1},"end":{"line":174,"column":1}},"children":[{"type":"text","value":"The subindices for each pollutant are calculated according to the linear relationship between the AQI and standard breakpoint ranges with the formula as above:","position":{"start":{"line":174,"column":1},"end":{"line":174,"column":1}},"key":"jwXUYxSrMf"}],"key":"W2vd5IFJZx"},{"type":"math","value":"Ip = \\dfrac{\\text{IHi – ILo}}{\\text{BPHi – BPLo}}\\cdot{\\text{Cp – BPLo}} + \\text{ILo}","position":{"start":{"line":176,"column":1},"end":{"line":178,"column":1}},"html":"<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>I</mi><mi>p</mi><mo>=</mo><mfrac><mtext>IHi – ILo</mtext><mtext>BPHi – BPLo</mtext></mfrac><mo>⋅</mo><mtext>Cp – BPLo</mtext><mo>+</mo><mtext>ILo</mtext></mrow><annotation encoding=\"application/x-tex\">Ip = \\dfrac{\\text{IHi – ILo}}{\\text{BPHi – BPLo}}\\cdot{\\text{Cp – BPLo}} + \\text{ILo}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8778em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">I</span><span class=\"mord mathnormal\">p</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.0463em;vertical-align:-0.686em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.3603em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord text\"><span class=\"mord\">BPHi – BPLo</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord text\"><span class=\"mord\">IHi – ILo</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.686em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">⋅</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8778em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord text\"><span class=\"mord\">Cp – BPLo</span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord text\"><span class=\"mord\">ILo</span></span></span></span></span></span>","enumerator":"2","key":"QRKUXNbwPG"},{"type":"paragraph","position":{"start":{"line":180,"column":1},"end":{"line":180,"column":1}},"children":[{"type":"text","value":"The ","position":{"start":{"line":180,"column":1},"end":{"line":180,"column":1}},"key":"bjFQqAB1xJ"},{"type":"inlineCode","value":"compute_indices","position":{"start":{"line":180,"column":1},"end":{"line":180,"column":1}},"key":"xwcf55aGPQ"},{"type":"text","value":" function first fetches the correct upper and lower bounds of AQI categories and breakpoint concentrations for the input concentration and pollutant with the help of arrays ","position":{"start":{"line":180,"column":1},"end":{"line":180,"column":1}},"key":"FhSIwjanKt"},{"type":"inlineCode","value":"AQI","position":{"start":{"line":180,"column":1},"end":{"line":180,"column":1}},"key":"LG4ceaUu4r"},{"type":"text","value":" and ","position":{"start":{"line":180,"column":1},"end":{"line":180,"column":1}},"key":"FwuqEHb22z"},{"type":"inlineCode","value":"breakpoints","position":{"start":{"line":180,"column":1},"end":{"line":180,"column":1}},"key":"l0rmk1p4XZ"},{"type":"text","value":" we created above. Then, it feeds these values into the formula to calculate the sub-index.","position":{"start":{"line":180,"column":1},"end":{"line":180,"column":1}},"key":"ZFDNy2MjBp"}],"key":"KlTrqPlRLZ"}],"key":"e22HHa3vqe"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"def compute_indices(pol, con):\n    bp = breakpoints[pol]\n    \n    if pol == 'CO':\n        inc = 0.1\n    else:\n        inc = 1\n    \n    if bp[0] <= con < bp[1]:\n        Bl = bp[0]\n        Bh = bp[1] - inc\n        Ih = AQI[1] - inc\n        Il = AQI[0]\n\n    elif bp[1] <= con < bp[2]:\n        Bl = bp[1]\n        Bh = bp[2] - inc\n        Ih = AQI[2] - inc\n        Il = AQI[1]\n\n    elif bp[2] <= con < bp[3]:\n        Bl = bp[2]\n        Bh = bp[3] - inc\n        Ih = AQI[3] - inc\n        Il = AQI[2]\n\n    elif bp[3] <= con < bp[4]:\n        Bl = bp[3]\n        Bh = bp[4] - inc\n        Ih = AQI[4] - inc\n        Il = AQI[3]\n\n    elif bp[4] <= con < bp[5]:\n        Bl = bp[4]\n        Bh = bp[5] - inc\n        Ih = AQI[5] - inc\n        Il = AQI[4]\n\n    elif bp[5] <= con:\n        Bl = bp[5]\n        Bh = bp[5] + bp[4] - (2 * inc)\n        Ih = AQI[6]\n        Il = AQI[5]\n\n    else:\n        print(\"Concentration out of range!\")\n        \n    return ((Ih - Il) / (Bh - Bl)) * (con - Bl) + Il","key":"wPmVSW4qsw"},{"type":"outputs","id":"pRVkE3QpUuLZyS4ykjYOV","children":[],"key":"E3cU1WimFo"}],"key":"WZHdrE93xA"},{"type":"block","children":[{"type":"paragraph","position":{"start":{"line":233,"column":1},"end":{"line":233,"column":1}},"children":[{"type":"text","value":"We will use ","position":{"start":{"line":233,"column":1},"end":{"line":233,"column":1}},"key":"XcQIWwohhn"},{"type":"link","url":"https://numpy.org/devdocs/reference/generated/numpy.vectorize.html","position":{"start":{"line":233,"column":1},"end":{"line":233,"column":1}},"children":[{"type":"text","value":"np.vectorize","position":{"start":{"line":233,"column":1},"end":{"line":233,"column":1}},"key":"AaffkOA0Ia"}],"urlSource":"https://numpy.org/devdocs/reference/generated/numpy.vectorize.html","key":"dRh8Zj3OFL"},{"type":"text","value":" to utilize the concept of vectorization. This simply means we don’t have loop over each element of the pollutant array ourselves. ","position":{"start":{"line":233,"column":1},"end":{"line":233,"column":1}},"key":"JaQo9SwtWM"},{"type":"link","url":"https://numpy.org/devdocs/user/whatisnumpy.html#why-is-numpy-fast","position":{"start":{"line":233,"column":1},"end":{"line":233,"column":1}},"children":[{"type":"text","value":"Vectorization","position":{"start":{"line":233,"column":1},"end":{"line":233,"column":1}},"key":"WYwuYEH0T4"}],"urlSource":"https://numpy.org/devdocs/user/whatisnumpy.html#why-is-numpy-fast","key":"PRObF5PbT4"},{"type":"text","value":" is one of the key advantages of NumPy.","position":{"start":{"line":233,"column":1},"end":{"line":233,"column":1}},"key":"PHbu8TGE4S"}],"key":"HA1HU4wusm"}],"key":"XATDtqgpCa"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"vcompute_indices = np.vectorize(compute_indices)","key":"vsgNnDKeAC"},{"type":"outputs","id":"bwYP1OmkVBd-xEb8gSxjt","children":[],"key":"q7pLwq8K6l"}],"key":"vBid5UYlaq"},{"type":"block","children":[{"type":"paragraph","position":{"start":{"line":239,"column":1},"end":{"line":239,"column":1}},"children":[{"type":"text","value":"By calling our vectorized function ","position":{"start":{"line":239,"column":1},"end":{"line":239,"column":1}},"key":"id1A8NOJle"},{"type":"inlineCode","value":"vcompute_indices","position":{"start":{"line":239,"column":1},"end":{"line":239,"column":1}},"key":"TpnsssoHhv"},{"type":"text","value":" for each pollutant, we get the sub-indices. To get back an array with the original shape, we use ","position":{"start":{"line":239,"column":1},"end":{"line":239,"column":1}},"key":"jCYoEZpD72"},{"type":"link","url":"https://numpy.org/devdocs/reference/generated/numpy.stack.html","position":{"start":{"line":239,"column":1},"end":{"line":239,"column":1}},"children":[{"type":"text","value":"np.stack","position":{"start":{"line":239,"column":1},"end":{"line":239,"column":1}},"key":"YFbrzkoAw8"}],"urlSource":"https://numpy.org/devdocs/reference/generated/numpy.stack.html","key":"Ds8jd9RZMk"},{"type":"text","value":".","position":{"start":{"line":239,"column":1},"end":{"line":239,"column":1}},"key":"g4iwWZbki3"}],"key":"gzEhu8gJyH"}],"key":"TQT8G6O0gB"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"sub_indices = np.stack((vcompute_indices('PM2.5', pollutants[..., 0]),\n                        vcompute_indices('PM10', pollutants[..., 1]),\n                        vcompute_indices('NO2', pollutants[..., 2]),\n                        vcompute_indices('NH3', pollutants[..., 3]),\n                        vcompute_indices('SO2', pollutants[..., 4]),\n                        vcompute_indices('CO', pollutants[..., 5]),\n                        vcompute_indices('O3', pollutants[..., 6])), axis=1)","key":"XgDEzpdthj"},{"type":"outputs","id":"qW1e0MSLUtJ4IgKXkjvbJ","children":[],"key":"XgPzGNXlqZ"}],"key":"TMmMNoypUl"},{"type":"block","children":[{"type":"heading","depth":3,"position":{"start":{"line":251,"column":1},"end":{"line":251,"column":1}},"children":[{"type":"text","value":"Air quality indices","position":{"start":{"line":251,"column":1},"end":{"line":251,"column":1}},"key":"ReYSa5WCs3"}],"identifier":"air-quality-indices","label":"Air quality indices","html_id":"air-quality-indices","implicit":true,"key":"qgLxzBe9Ub"},{"type":"paragraph","position":{"start":{"line":253,"column":1},"end":{"line":253,"column":1}},"children":[{"type":"text","value":"Using ","position":{"start":{"line":253,"column":1},"end":{"line":253,"column":1}},"key":"fhd9Y3ceqI"},{"type":"link","url":"https://numpy.org/devdocs/reference/generated/numpy.maximum.html","position":{"start":{"line":253,"column":1},"end":{"line":253,"column":1}},"children":[{"type":"text","value":"np.max","position":{"start":{"line":253,"column":1},"end":{"line":253,"column":1}},"key":"mmkpHesGMQ"}],"urlSource":"https://numpy.org/devdocs/reference/generated/numpy.maximum.html","key":"WrZ2THOQfp"},{"type":"text","value":", we find out the maximum sub-index for each period, which is our Air Quality Index!","position":{"start":{"line":253,"column":1},"end":{"line":253,"column":1}},"key":"gCeh5EdRvi"}],"key":"J4qKn8iJvm"}],"key":"mjsWRDrUax"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"aqi_array = np.max(sub_indices, axis=1)","key":"bYFTBW4jGt"},{"type":"outputs","id":"AtQmD7l5UZ0nYeS8-NZkH","children":[],"key":"H8bWCOjkyQ"}],"key":"tFBPTK5rzr"},{"type":"block","children":[{"type":"paragraph","position":{"start":{"line":259,"column":1},"end":{"line":260,"column":1}},"children":[{"type":"text","value":"With this, we have the AQI for every hour from June 1, 2019 to June 30, 2020. Note that even though we started out with\nthe data from 31st May, we truncated that during the moving averages step.","position":{"start":{"line":259,"column":1},"end":{"line":259,"column":1}},"key":"Vj2dy0FrsJ"}],"key":"QZRKYQss2w"}],"key":"IAWL2E80Y2"},{"type":"block","position":{"start":{"line":262,"column":1},"end":{"line":262,"column":1}},"children":[{"type":"heading","depth":2,"position":{"start":{"line":264,"column":1},"end":{"line":264,"column":1}},"children":[{"type":"text","value":"Paired Student’s t-test on the AQIs","position":{"start":{"line":264,"column":1},"end":{"line":264,"column":1}},"key":"WT5DRd9XmI"}],"identifier":"paired-students-t-test-on-the-aqis","label":"Paired Student’s t-test on the AQIs","html_id":"paired-students-t-test-on-the-aqis","implicit":true,"key":"xeuRG6iyf4"},{"type":"paragraph","position":{"start":{"line":266,"column":1},"end":{"line":266,"column":1}},"children":[{"type":"text","value":"Hypothesis testing is a form of descriptive statistics used to help us make decisions with the data. From the calculated AQI data, we want to find out if there was a statistically significant difference in average AQI before and after the lockdown was imposed. We will use the left-tailed, ","position":{"start":{"line":266,"column":1},"end":{"line":266,"column":1}},"key":"vox4FbRnx6"},{"type":"link","url":"https://en.wikipedia.org/wiki/Student%27s_t-test#Dependent_t-test_for_paired_samples","position":{"start":{"line":266,"column":1},"end":{"line":266,"column":1}},"children":[{"type":"text","value":"paired Student’s t-test","position":{"start":{"line":266,"column":1},"end":{"line":266,"column":1}},"key":"fd0YsstHae"}],"urlSource":"https://en.wikipedia.org/wiki/Student%27s_t-test#Dependent_t-test_for_paired_samples","data":{"page":"Student%27s_t-test#Dependent_t-test_for_paired_samples","wiki":"https://en.wikipedia.org/","lang":"en"},"internal":false,"protocol":"wiki","key":"vvZiBCM3qy"},{"type":"text","value":" to compute two test statistics- the ","position":{"start":{"line":266,"column":1},"end":{"line":266,"column":1}},"key":"AF4D7RXyIV"},{"type":"link","url":"https://en.wikipedia.org/wiki/T-statistic","position":{"start":{"line":266,"column":1},"end":{"line":266,"column":1}},"children":[{"type":"inlineCode","value":"t statistic","position":{"start":{"line":266,"column":1},"end":{"line":266,"column":1}},"key":"Q6rs7AkAwr"}],"urlSource":"https://en.wikipedia.org/wiki/T-statistic","data":{"page":"T-statistic","wiki":"https://en.wikipedia.org/","lang":"en"},"internal":false,"protocol":"wiki","key":"bRGWlDkcKK"},{"type":"text","value":" and the ","position":{"start":{"line":266,"column":1},"end":{"line":266,"column":1}},"key":"FJrhKqwqCw"},{"type":"link","url":"https://en.wikipedia.org/wiki/P-value","position":{"start":{"line":266,"column":1},"end":{"line":266,"column":1}},"children":[{"type":"inlineCode","value":"p value","position":{"start":{"line":266,"column":1},"end":{"line":266,"column":1}},"key":"KkYV6331fs"}],"urlSource":"https://en.wikipedia.org/wiki/P-value","data":{"page":"P-value","wiki":"https://en.wikipedia.org/","lang":"en"},"internal":false,"protocol":"wiki","key":"q9JFiXHdPs"},{"type":"text","value":". We will then compare these with the corresponding critical values to make a decision.","position":{"start":{"line":266,"column":1},"end":{"line":266,"column":1}},"key":"shkTECKYKY"}],"key":"rXzXuWeCzo"},{"type":"image","url":"/numpy-tutorials/build/11-one-tailed-test-c533766330dc0ebf886d573252f84c7b.svg","alt":"Normal distribution plot showing area of rejection in one-tailed test (left tailed)","position":{"start":{"line":268,"column":1},"end":{"line":268,"column":1}},"key":"HgZvR0wrNK","urlSource":"_static/11-one-tailed-test.svg"},{"type":"heading","depth":3,"position":{"start":{"line":270,"column":1},"end":{"line":270,"column":1}},"children":[{"type":"text","value":"Sampling","position":{"start":{"line":270,"column":1},"end":{"line":270,"column":1}},"key":"TwNHiGnj9E"}],"identifier":"sampling","label":"Sampling","html_id":"sampling","implicit":true,"key":"qtkHfQaOb8"},{"type":"paragraph","position":{"start":{"line":272,"column":1},"end":{"line":272,"column":1}},"children":[{"type":"text","value":"We will now import the ","position":{"start":{"line":272,"column":1},"end":{"line":272,"column":1}},"key":"Nk2pr6dd0L"},{"type":"inlineCode","value":"datetime","position":{"start":{"line":272,"column":1},"end":{"line":272,"column":1}},"key":"pa6C4haWSX"},{"type":"text","value":" column from our original dataset into a ","position":{"start":{"line":272,"column":1},"end":{"line":272,"column":1}},"key":"QBwvU650su"},{"type":"link","url":"https://numpy.org/devdocs/reference/arrays.scalars.html","position":{"start":{"line":272,"column":1},"end":{"line":272,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":272,"column":1},"end":{"line":272,"column":1}},"children":[{"type":"text","value":"datetime64","position":{"start":{"line":272,"column":1},"end":{"line":272,"column":1}},"key":"ITLEHsK5Bq"}],"key":"ULk2ub2Azl"},{"type":"text","value":" dtype","position":{"start":{"line":272,"column":1},"end":{"line":272,"column":1}},"key":"mRz6DSC1SG"}],"urlSource":"https://numpy.org/devdocs/reference/arrays.scalars.html","key":"A7Ww1GGQ3m"},{"type":"text","value":" array. We will use this array to index the AQI array and obtain subsets of the dataset.","position":{"start":{"line":272,"column":1},"end":{"line":272,"column":1}},"key":"NF8ONGvduk"}],"key":"rH7tp7Zqkp"}],"key":"pE3Vnk7kIT"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"datetime = np.loadtxt(\"air-quality-data.csv\", dtype='M8[h]', delimiter=\",\",\n                         skiprows=1, usecols=(0, ))[-(pollutants_A_24hr_avg.shape[0]):]","key":"lF5BXtX0v9"},{"type":"outputs","id":"be77SqM2vca1jKf4LFhPD","children":[],"key":"A8Nm6ZMk8H"}],"key":"yKkNUBY7Xg"},{"type":"block","children":[{"type":"paragraph","position":{"start":{"line":279,"column":1},"end":{"line":279,"column":1}},"children":[{"type":"text","value":"Since total lockdown commenced in Delhi from March 24, 2020, the after-lockdown subset is of the period March 24, 2020 to June 30, 2020. The before-lockdown subset is for the same length of time before 24th March.","position":{"start":{"line":279,"column":1},"end":{"line":279,"column":1}},"key":"Wbup1VJ8l8"}],"key":"Li909zz3fU"}],"key":"guGGz4Zman"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"after_lock = aqi_array[np.where(datetime >= np.datetime64('2020-03-24T00'))]\n\nbefore_lock = aqi_array[np.where(datetime <= np.datetime64('2020-03-21T00'))][-(after_lock.shape[0]):]\n\nprint(after_lock.shape)\nprint(before_lock.shape)","key":"PmHrkgmL7y"},{"type":"outputs","id":"HOidaFsps9biVrt44rstF","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"(2376,)\n(2376,)\n"},"key":"c5RoaY4dpY"}],"key":"LzWM8649yo"}],"key":"vHk4Yp2SWF"},{"type":"block","children":[{"type":"paragraph","position":{"start":{"line":290,"column":1},"end":{"line":290,"column":1}},"children":[{"type":"text","value":"To make sure our samples are ","position":{"start":{"line":290,"column":1},"end":{"line":290,"column":1}},"key":"LwqpSON3oq"},{"type":"emphasis","position":{"start":{"line":290,"column":1},"end":{"line":290,"column":1}},"children":[{"type":"text","value":"approximately","position":{"start":{"line":290,"column":1},"end":{"line":290,"column":1}},"key":"Z5vG2YELGD"}],"key":"RnvywnoD2B"},{"type":"text","value":" normally distributed, we take samples of size ","position":{"start":{"line":290,"column":1},"end":{"line":290,"column":1}},"key":"Ja2HEDQyWI"},{"type":"inlineCode","value":"n = 30","position":{"start":{"line":290,"column":1},"end":{"line":290,"column":1}},"key":"YeTsYx7V1h"},{"type":"text","value":". ","position":{"start":{"line":290,"column":1},"end":{"line":290,"column":1}},"key":"D4N4O9i1gF"},{"type":"inlineCode","value":"before_sample","position":{"start":{"line":290,"column":1},"end":{"line":290,"column":1}},"key":"EsNsZNEkqT"},{"type":"text","value":" and ","position":{"start":{"line":290,"column":1},"end":{"line":290,"column":1}},"key":"tNHmssZk1A"},{"type":"inlineCode","value":"after_sample","position":{"start":{"line":290,"column":1},"end":{"line":290,"column":1}},"key":"XBQTzeeDfJ"},{"type":"text","value":" are the set of random observations drawn before and after the total lockdown. We use ","position":{"start":{"line":290,"column":1},"end":{"line":290,"column":1}},"key":"xLxi3QKZoZ"},{"type":"link","url":"https://numpy.org/devdocs/reference/random/generated/numpy.random.Generator.choice.html","position":{"start":{"line":290,"column":1},"end":{"line":290,"column":1}},"children":[{"type":"text","value":"random​.Generator​.choice","position":{"start":{"line":290,"column":1},"end":{"line":290,"column":1}},"key":"CYOAzD2z4j"}],"urlSource":"https://numpy.org/devdocs/reference/random/generated/numpy.random.Generator.choice.html","key":"Xgeo5am6jt"},{"type":"text","value":" to generate the samples.","position":{"start":{"line":290,"column":1},"end":{"line":290,"column":1}},"key":"lE0hTt1Oxc"}],"key":"Au7kZp9yJQ"}],"key":"ITjei1MVDL"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"rng = default_rng()\n\nbefore_sample = rng.choice(before_lock, size=30, replace=False)\nafter_sample = rng.choice(after_lock, size=30, replace=False)","key":"oXuqAbgof3"},{"type":"outputs","id":"oY54IHagfpq5ugjs4DYCL","children":[],"key":"gfKZIVOmAx"}],"key":"pyLOzbG8gL"},{"type":"block","children":[{"type":"heading","depth":3,"position":{"start":{"line":299,"column":1},"end":{"line":299,"column":1}},"children":[{"type":"text","value":"Defining the hypothesis","position":{"start":{"line":299,"column":1},"end":{"line":299,"column":1}},"key":"DwioZOzJYP"}],"identifier":"defining-the-hypothesis","label":"Defining the hypothesis","html_id":"defining-the-hypothesis","implicit":true,"key":"xF8bxFJMl5"},{"type":"paragraph","position":{"start":{"line":301,"column":1},"end":{"line":301,"column":1}},"children":[{"type":"text","value":"Let us assume that there is no significant difference between the sample means before and after the lockdown. This will be the null hypothesis. The alternative hypothesis would be that there ","position":{"start":{"line":301,"column":1},"end":{"line":301,"column":1}},"key":"rFpYSTZduV"},{"type":"emphasis","position":{"start":{"line":301,"column":1},"end":{"line":301,"column":1}},"children":[{"type":"text","value":"is","position":{"start":{"line":301,"column":1},"end":{"line":301,"column":1}},"key":"P0qWUNA7Df"}],"key":"SZl1Id8b4N"},{"type":"text","value":" a significant difference between the means and the AQI ","position":{"start":{"line":301,"column":1},"end":{"line":301,"column":1}},"key":"To3o7dsAQZ"},{"type":"emphasis","position":{"start":{"line":301,"column":1},"end":{"line":301,"column":1}},"children":[{"type":"text","value":"improved","position":{"start":{"line":301,"column":1},"end":{"line":301,"column":1}},"key":"GHqYCp2f90"}],"key":"EYFRlezdS7"},{"type":"text","value":". Mathematically,","position":{"start":{"line":301,"column":1},"end":{"line":301,"column":1}},"key":"SxbvPPrLvD"}],"key":"NAUPB434a5"},{"type":"paragraph","position":{"start":{"line":303,"column":1},"end":{"line":304,"column":1}},"children":[{"type":"inlineMath","value":"H_{0}: \\mu_\\text{after-before} = 0","position":{"start":{"line":303,"column":1},"end":{"line":303,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>H</mi><mn>0</mn></msub><mo>:</mo><msub><mi>μ</mi><mtext>after-before</mtext></msub><mo>=</mo><mn>0</mn></mrow><annotation encoding=\"application/x-tex\">H_{0}: \\mu_\\text{after-before} = 0</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.08125em;\">H</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0813em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">0</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">:</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">μ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord text mtight\"><span class=\"mord mtight\">after-before</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">0</span></span></span></span>","key":"ALDJUMEZJP"},{"type":"text","value":" ","position":{"start":{"line":303,"column":1},"end":{"line":303,"column":1}},"key":"EApgNCvmei"},{"type":"break","position":{"start":{"line":303,"column":1},"end":{"line":303,"column":1}},"key":"sHucvQKPnS"},{"type":"inlineMath","value":"H_{a}: \\mu_\\text{after-before} < 0","position":{"start":{"line":303,"column":1},"end":{"line":303,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>H</mi><mi>a</mi></msub><mo>:</mo><msub><mi>μ</mi><mtext>after-before</mtext></msub><mo>&lt;</mo><mn>0</mn></mrow><annotation encoding=\"application/x-tex\">H_{a}: \\mu_\\text{after-before} &lt; 0</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.08125em;\">H</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.0813em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">a</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">:</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.7335em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">μ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord text mtight\"><span class=\"mord mtight\">after-before</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">&lt;</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">0</span></span></span></span>","key":"Az8wf7WDxj"}],"key":"Jb31kbobKG"}],"key":"WDOCdp4fry"},{"type":"block","position":{"start":{"line":306,"column":1},"end":{"line":306,"column":1}},"children":[{"type":"heading","depth":3,"position":{"start":{"line":308,"column":1},"end":{"line":308,"column":1}},"children":[{"type":"text","value":"Calculating the test statistics","position":{"start":{"line":308,"column":1},"end":{"line":308,"column":1}},"key":"z4UB28EFZd"}],"identifier":"calculating-the-test-statistics","label":"Calculating the test statistics","html_id":"calculating-the-test-statistics","implicit":true,"key":"yyn9YV76ev"},{"type":"paragraph","position":{"start":{"line":310,"column":1},"end":{"line":310,"column":1}},"children":[{"type":"text","value":"We will use the ","position":{"start":{"line":310,"column":1},"end":{"line":310,"column":1}},"key":"dxTDlIL4Sj"},{"type":"inlineCode","value":"t","position":{"start":{"line":310,"column":1},"end":{"line":310,"column":1}},"key":"yEF6Q2zHLS"},{"type":"text","value":" statistic to evaluate our hypothesis and even calculate the ","position":{"start":{"line":310,"column":1},"end":{"line":310,"column":1}},"key":"PNWHa3BNZR"},{"type":"inlineCode","value":"p value","position":{"start":{"line":310,"column":1},"end":{"line":310,"column":1}},"key":"ZdWY9ZPr3K"},{"type":"text","value":" from it. The formula for the ","position":{"start":{"line":310,"column":1},"end":{"line":310,"column":1}},"key":"Dfbud5upEk"},{"type":"inlineCode","value":"t","position":{"start":{"line":310,"column":1},"end":{"line":310,"column":1}},"key":"aRGAWv19tm"},{"type":"text","value":" statistic is:","position":{"start":{"line":310,"column":1},"end":{"line":310,"column":1}},"key":"wogXRYaz7b"}],"key":"I6oAmyy1wl"},{"type":"math","value":"t = \\frac{\\mu_\\text{after-before}}{\\sqrt{\\sigma^{2}/n}}","position":{"start":{"line":312,"column":1},"end":{"line":314,"column":1}},"html":"<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>t</mi><mo>=</mo><mfrac><msub><mi>μ</mi><mtext>after-before</mtext></msub><msqrt><mrow><msup><mi>σ</mi><mn>2</mn></msup><mi mathvariant=\"normal\">/</mi><mi>n</mi></mrow></msqrt></mfrac></mrow><annotation encoding=\"application/x-tex\">t = \\frac{\\mu_\\text{after-before}}{\\sqrt{\\sigma^{2}/n}}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6151em;\"></span><span class=\"mord mathnormal\">t</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.2376em;vertical-align:-1.13em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.1076em;\"><span style=\"top:-2.175em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord sqrt\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.935em;\"><span class=\"svg-align\" style=\"top:-3.2em;\"><span class=\"pstrut\" style=\"height:3.2em;\"></span><span class=\"mord\" style=\"padding-left:1em;\"><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">σ</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.7401em;\"><span style=\"top:-2.989em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span></span><span class=\"mord\">/</span><span class=\"mord mathnormal\">n</span></span></span><span style=\"top:-2.895em;\"><span class=\"pstrut\" style=\"height:3.2em;\"></span><span class=\"hide-tail\" style=\"min-width:1.02em;height:1.28em;\"><svg xmlns=\"http://www.w3.org/2000/svg\" width='400em' height='1.28em' viewBox='0 0 400000 1296' preserveAspectRatio='xMinYMin slice'><path d='M263,681c0.7,0,18,39.7,52,119\nc34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120\nc340,-704.7,510.7,-1060.3,512,-1067\nl0 -0\nc4.7,-7.3,11,-11,19,-11\nH40000v40H1012.3\ns-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232\nc-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1\ns-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26\nc-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z\nM1001 80h400000v40h-400000z'/></svg></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.305em;\"><span></span></span></span></span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathnormal\">μ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord text mtight\"><span class=\"mord mtight\">after-before</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.13em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span></span></span>","enumerator":"3","key":"acwRhwE0PN"},{"type":"paragraph","position":{"start":{"line":316,"column":1},"end":{"line":316,"column":1}},"children":[{"type":"text","value":"where,","position":{"start":{"line":316,"column":1},"end":{"line":316,"column":1}},"key":"CfvPqZE2wX"}],"key":"MwTbmkp18k"},{"type":"paragraph","position":{"start":{"line":318,"column":1},"end":{"line":320,"column":1}},"children":[{"type":"inlineMath","value":"\\mu_\\text{after-before}","position":{"start":{"line":318,"column":1},"end":{"line":318,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>μ</mi><mtext>after-before</mtext></msub></mrow><annotation encoding=\"application/x-tex\">\\mu_\\text{after-before}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">μ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord text mtight\"><span class=\"mord mtight\">after-before</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>","key":"cdabwZeb84"},{"type":"text","value":" = mean differences of samples ","position":{"start":{"line":318,"column":1},"end":{"line":318,"column":1}},"key":"UG1K9aVEsz"},{"type":"break","position":{"start":{"line":318,"column":1},"end":{"line":318,"column":1}},"key":"Uj2VmlZ2wu"},{"type":"inlineMath","value":"\\sigma^{2}","position":{"start":{"line":318,"column":1},"end":{"line":318,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>σ</mi><mn>2</mn></msup></mrow><annotation encoding=\"application/x-tex\">\\sigma^{2}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">σ</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span></span></span></span></span>","key":"Pw0DfIpQnN"},{"type":"text","value":" = variance of mean differences ","position":{"start":{"line":318,"column":1},"end":{"line":318,"column":1}},"key":"G5qapV7lq3"},{"type":"break","position":{"start":{"line":318,"column":1},"end":{"line":318,"column":1}},"key":"lEgC0GU97C"},{"type":"inlineMath","value":"n","position":{"start":{"line":318,"column":1},"end":{"line":318,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>n</mi></mrow><annotation encoding=\"application/x-tex\">n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">n</span></span></span></span>","key":"AS4QBFnJWN"},{"type":"text","value":" = sample size","position":{"start":{"line":318,"column":1},"end":{"line":318,"column":1}},"key":"IXi7hWWego"}],"key":"gp51JL2oSY"}],"key":"tF8wW0n7ZQ"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"def t_test(x, y):\n    diff = y - x\n    var = np.var(diff, ddof=1)\n    num = np.mean(diff)\n    denom = np.sqrt(var / len(x))\n    return np.divide(num, denom)\n\nt_value = t_test(before_sample, after_sample)","key":"h63xqJrlXz"},{"type":"outputs","id":"6EGYBtOcIbd6fdGhUWbhN","children":[],"key":"XQAUZNPKSV"}],"key":"O91guYrNdq"},{"type":"block","children":[{"type":"paragraph","position":{"start":{"line":333,"column":1},"end":{"line":333,"column":1}},"children":[{"type":"text","value":"For the ","position":{"start":{"line":333,"column":1},"end":{"line":333,"column":1}},"key":"pFFienth3f"},{"type":"inlineCode","value":"p","position":{"start":{"line":333,"column":1},"end":{"line":333,"column":1}},"key":"nfDMgzesvB"},{"type":"text","value":" value, we will use SciPy’s ","position":{"start":{"line":333,"column":1},"end":{"line":333,"column":1}},"key":"upsexZlIvV"},{"type":"inlineCode","value":"stats.distributions.t.cdf()","position":{"start":{"line":333,"column":1},"end":{"line":333,"column":1}},"key":"y8mwUrTkXa"},{"type":"text","value":" function. It takes two arguments- the ","position":{"start":{"line":333,"column":1},"end":{"line":333,"column":1}},"key":"meGWAroFxf"},{"type":"inlineCode","value":"t statistic","position":{"start":{"line":333,"column":1},"end":{"line":333,"column":1}},"key":"sogTLmtSGF"},{"type":"text","value":" and the degrees of freedom (","position":{"start":{"line":333,"column":1},"end":{"line":333,"column":1}},"key":"qhDy3gg7uS"},{"type":"inlineCode","value":"dof","position":{"start":{"line":333,"column":1},"end":{"line":333,"column":1}},"key":"Mg6kbBgoCq"},{"type":"text","value":"). The formula for ","position":{"start":{"line":333,"column":1},"end":{"line":333,"column":1}},"key":"S1rqzj3Ril"},{"type":"inlineCode","value":"dof","position":{"start":{"line":333,"column":1},"end":{"line":333,"column":1}},"key":"DjioJQFINz"},{"type":"text","value":" is ","position":{"start":{"line":333,"column":1},"end":{"line":333,"column":1}},"key":"lNLSvWwv4z"},{"type":"inlineCode","value":"n - 1","position":{"start":{"line":333,"column":1},"end":{"line":333,"column":1}},"key":"XF7xOiAAnu"},{"type":"text","value":".","position":{"start":{"line":333,"column":1},"end":{"line":333,"column":1}},"key":"UDhBozk02f"}],"key":"R3cojuuMG6"}],"key":"rNA5Bjrwf5"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"dof = len(before_sample) - 1\n\np_value = stats.distributions.t.cdf(t_value, dof)\n\nprint(\"The t value is {} and the p value is {}.\".format(t_value, p_value))","key":"VqSvxyy9e3"},{"type":"outputs","id":"L1JLDdxPSu8Y4uJHgY98Y","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"The t value is -7.62562059932746 and the p value is 1.04224855047877e-08.\n"},"key":"au9bU3T5up"}],"key":"zCtgRLMOUk"}],"key":"YpCFS9PYjf"},{"type":"block","children":[{"type":"heading","depth":2,"position":{"start":{"line":343,"column":1},"end":{"line":343,"column":1}},"children":[{"type":"text","value":"What do the ","position":{"start":{"line":343,"column":1},"end":{"line":343,"column":1}},"key":"a7f28Lv2ti"},{"type":"inlineCode","value":"t","position":{"start":{"line":343,"column":1},"end":{"line":343,"column":1}},"key":"QsxR8TK9dx"},{"type":"text","value":" and ","position":{"start":{"line":343,"column":1},"end":{"line":343,"column":1}},"key":"sjxwRbPWCY"},{"type":"inlineCode","value":"p","position":{"start":{"line":343,"column":1},"end":{"line":343,"column":1}},"key":"xVq8hNi821"},{"type":"text","value":" values mean?","position":{"start":{"line":343,"column":1},"end":{"line":343,"column":1}},"key":"hzJLtrPIiH"}],"identifier":"what-do-the-t-and-p-values-mean","label":"What do the t and p values mean?","html_id":"what-do-the-t-and-p-values-mean","implicit":true,"key":"aP1RVfg70c"},{"type":"paragraph","position":{"start":{"line":345,"column":1},"end":{"line":345,"column":1}},"children":[{"type":"text","value":"We will now compare the calculated test statistics with the critical test statistics. The critical ","position":{"start":{"line":345,"column":1},"end":{"line":345,"column":1}},"key":"XlK3VMQ82h"},{"type":"inlineCode","value":"t","position":{"start":{"line":345,"column":1},"end":{"line":345,"column":1}},"key":"mLfV3pHDut"},{"type":"text","value":" value is calculated by looking up the ","position":{"start":{"line":345,"column":1},"end":{"line":345,"column":1}},"key":"OyblmgIdrV"},{"type":"link","url":"https://en.wikipedia.org/wiki/Student%27s_t-distribution#Table_of_selected_values","position":{"start":{"line":345,"column":1},"end":{"line":345,"column":1}},"children":[{"type":"text","value":"t-distribution table","position":{"start":{"line":345,"column":1},"end":{"line":345,"column":1}},"key":"lv6l806Fw0"}],"urlSource":"https://en.wikipedia.org/wiki/Student%27s_t-distribution#Table_of_selected_values","data":{"page":"Student%27s_t-distribution#Table_of_selected_values","wiki":"https://en.wikipedia.org/","lang":"en"},"internal":false,"protocol":"wiki","key":"jkdPM3n6vx"},{"type":"text","value":".","position":{"start":{"line":345,"column":1},"end":{"line":345,"column":1}},"key":"ErYfIOu5jX"}],"key":"rBQLDpezYJ"},{"type":"image","url":"/numpy-tutorials/build/11-t-table-b43a8b3594f31fe0975e6868873e4ec0.png","alt":"Table of selected t values at different confidence levels. T value for 29 dof at 95% confidence level is highlighted with a yellow square","position":{"start":{"line":347,"column":1},"end":{"line":347,"column":1}},"key":"leJxITfvmv","urlSource":"_static/11-t-table.png"},{"type":"paragraph","position":{"start":{"line":349,"column":1},"end":{"line":349,"column":1}},"children":[{"type":"text","value":"From the table above, the critical value is 1.699 for 29 ","position":{"start":{"line":349,"column":1},"end":{"line":349,"column":1}},"key":"hZqTtwtjhb"},{"type":"inlineCode","value":"dof","position":{"start":{"line":349,"column":1},"end":{"line":349,"column":1}},"key":"BXY1LJFCkd"},{"type":"text","value":" at a confidence level of 95%. Since we are using the left tailed test, our critical value is -1.699. Clearly, the calculated ","position":{"start":{"line":349,"column":1},"end":{"line":349,"column":1}},"key":"ys7TnYZHjw"},{"type":"inlineCode","value":"t","position":{"start":{"line":349,"column":1},"end":{"line":349,"column":1}},"key":"lAPzXRcJSu"},{"type":"text","value":" value is less than the critical value so we can safely reject the null hypothesis.","position":{"start":{"line":349,"column":1},"end":{"line":349,"column":1}},"key":"IMblA1TGdb"}],"key":"puU8TPmciI"},{"type":"paragraph","position":{"start":{"line":351,"column":1},"end":{"line":351,"column":1}},"children":[{"type":"text","value":"The critical ","position":{"start":{"line":351,"column":1},"end":{"line":351,"column":1}},"key":"sDXjJBAqiR"},{"type":"inlineCode","value":"p","position":{"start":{"line":351,"column":1},"end":{"line":351,"column":1}},"key":"Gi85YRo8py"},{"type":"text","value":" value, denoted by ","position":{"start":{"line":351,"column":1},"end":{"line":351,"column":1}},"key":"ilv52JbPDW"},{"type":"inlineMath","value":"\\alpha","position":{"start":{"line":351,"column":1},"end":{"line":351,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>α</mi></mrow><annotation encoding=\"application/x-tex\">\\alpha</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">α</span></span></span></span>","key":"xJISx72zkD"},{"type":"text","value":", is usually chosen to be 0.05, corresponding to a confidence level of 95%. If the calculated ","position":{"start":{"line":351,"column":1},"end":{"line":351,"column":1}},"key":"nOYkI0fxdQ"},{"type":"inlineCode","value":"p","position":{"start":{"line":351,"column":1},"end":{"line":351,"column":1}},"key":"vDC8TGjWJ6"},{"type":"text","value":" value is less than ","position":{"start":{"line":351,"column":1},"end":{"line":351,"column":1}},"key":"rzoPL11brR"},{"type":"inlineMath","value":"\\alpha","position":{"start":{"line":351,"column":1},"end":{"line":351,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>α</mi></mrow><annotation encoding=\"application/x-tex\">\\alpha</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">α</span></span></span></span>","key":"rj0Wdin1lY"},{"type":"text","value":", then the null hypothesis can be safely rejected. Clearly, our ","position":{"start":{"line":351,"column":1},"end":{"line":351,"column":1}},"key":"d1gCjTi7it"},{"type":"inlineCode","value":"p","position":{"start":{"line":351,"column":1},"end":{"line":351,"column":1}},"key":"vCGSmRFibv"},{"type":"text","value":" value is much less than ","position":{"start":{"line":351,"column":1},"end":{"line":351,"column":1}},"key":"Dv15xsDWmT"},{"type":"inlineMath","value":"\\alpha","position":{"start":{"line":351,"column":1},"end":{"line":351,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>α</mi></mrow><annotation encoding=\"application/x-tex\">\\alpha</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">α</span></span></span></span>","key":"C80XRXmZtX"},{"type":"text","value":", so we can reject the null hypothesis.","position":{"start":{"line":351,"column":1},"end":{"line":351,"column":1}},"key":"SORYACY4yQ"}],"key":"ieREMtyLKQ"},{"type":"paragraph","position":{"start":{"line":353,"column":1},"end":{"line":353,"column":1}},"children":[{"type":"text","value":"Note that this does not mean we can accept the alternative hypothesis. It only tells us that there is not enough evidence to reject ","position":{"start":{"line":353,"column":1},"end":{"line":353,"column":1}},"key":"sla8Jaygrr"},{"type":"inlineMath","value":"H_{a}","position":{"start":{"line":353,"column":1},"end":{"line":353,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>H</mi><mi>a</mi></msub></mrow><annotation encoding=\"application/x-tex\">H_{a}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.08125em;\">H</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.0813em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">a</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>","key":"MN6zxXR3kl"},{"type":"text","value":". In other words, we fail to reject the alternative hypothesis so, it ","position":{"start":{"line":353,"column":1},"end":{"line":353,"column":1}},"key":"Ffp9mAbi6W"},{"type":"emphasis","position":{"start":{"line":353,"column":1},"end":{"line":353,"column":1}},"children":[{"type":"text","value":"may","position":{"start":{"line":353,"column":1},"end":{"line":353,"column":1}},"key":"qa8WKcOPwc"}],"key":"jdaoLzux50"},{"type":"text","value":" be true.","position":{"start":{"line":353,"column":1},"end":{"line":353,"column":1}},"key":"kw8v8RTHeI"}],"key":"q0h046K9sT"}],"key":"M2oRIDQCks"},{"type":"block","position":{"start":{"line":355,"column":1},"end":{"line":355,"column":1}},"children":[{"type":"thematicBreak","position":{"start":{"line":357,"column":1},"end":{"line":357,"column":1}},"key":"x9R1DXb80K"},{"type":"heading","depth":2,"position":{"start":{"line":359,"column":1},"end":{"line":359,"column":1}},"children":[{"type":"text","value":"In practice...","position":{"start":{"line":359,"column":1},"end":{"line":359,"column":1}},"key":"AMzLiJFnbM"}],"identifier":"in-practice","label":"In practice...","html_id":"in-practice","implicit":true,"key":"yOfupzMwNX"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":361,"column":1},"end":{"line":366,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":361,"column":1},"end":{"line":362,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":361,"column":1},"end":{"line":361,"column":1}},"children":[{"type":"text","value":"The ","position":{"start":{"line":361,"column":1},"end":{"line":361,"column":1}},"key":"XCSCRoTUjr"},{"type":"link","url":"https://pandas.pydata.org/","position":{"start":{"line":361,"column":1},"end":{"line":361,"column":1}},"children":[{"type":"text","value":"pandas","position":{"start":{"line":361,"column":1},"end":{"line":361,"column":1}},"key":"bbQD0cRspL"}],"urlSource":"https://pandas.pydata.org/","key":"TZsTSCXoJ1"},{"type":"text","value":" library is preferable to use for time-series data analysis.","position":{"start":{"line":361,"column":1},"end":{"line":361,"column":1}},"key":"J0WtfhMLbV"}],"key":"RJ8hrLPfGy"}],"key":"YZ5ixYw35c"},{"type":"listItem","spread":true,"position":{"start":{"line":363,"column":1},"end":{"line":364,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":363,"column":1},"end":{"line":363,"column":1}},"children":[{"type":"text","value":"The SciPy stats module provides the ","position":{"start":{"line":363,"column":1},"end":{"line":363,"column":1}},"key":"wrnmPrQY9A"},{"type":"link","url":"https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.ttest_rel.html","position":{"start":{"line":363,"column":1},"end":{"line":363,"column":1}},"children":[{"type":"text","value":"stats.ttest_rel","position":{"start":{"line":363,"column":1},"end":{"line":363,"column":1}},"key":"FxETCGD3zF"}],"urlSource":"https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.ttest_rel.html","key":"ILnpgpNjR5"},{"type":"text","value":" function which can be used to get the ","position":{"start":{"line":363,"column":1},"end":{"line":363,"column":1}},"key":"WWit1rJpiu"},{"type":"inlineCode","value":"t statistic","position":{"start":{"line":363,"column":1},"end":{"line":363,"column":1}},"key":"p5VTR0iqUX"},{"type":"text","value":" and ","position":{"start":{"line":363,"column":1},"end":{"line":363,"column":1}},"key":"n5HNaoKyif"},{"type":"inlineCode","value":"p value","position":{"start":{"line":363,"column":1},"end":{"line":363,"column":1}},"key":"xFZqycb0He"},{"type":"text","value":".","position":{"start":{"line":363,"column":1},"end":{"line":363,"column":1}},"key":"TEYMKciWKN"}],"key":"C2dGK1YlP4"}],"key":"igqUXF6rzQ"},{"type":"listItem","spread":true,"position":{"start":{"line":365,"column":1},"end":{"line":366,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":365,"column":1},"end":{"line":365,"column":1}},"children":[{"type":"text","value":"In real life, data are generally not normally distributed. There are tests for such non-normal data like the ","position":{"start":{"line":365,"column":1},"end":{"line":365,"column":1}},"key":"oHgau9Djzi"},{"type":"link","url":"https://en.wikipedia.org/wiki/Wilcoxon_signed-rank_test","position":{"start":{"line":365,"column":1},"end":{"line":365,"column":1}},"children":[{"type":"text","value":"Wilcoxon test","position":{"start":{"line":365,"column":1},"end":{"line":365,"column":1}},"key":"AbGmVURBX6"}],"urlSource":"https://en.wikipedia.org/wiki/Wilcoxon_signed-rank_test","data":{"page":"Wilcoxon_signed-rank_test","wiki":"https://en.wikipedia.org/","lang":"en"},"internal":false,"protocol":"wiki","key":"vnW5D12S2G"},{"type":"text","value":".","position":{"start":{"line":365,"column":1},"end":{"line":365,"column":1}},"key":"ifEve3Dq4I"}],"key":"EES3z7JKOB"}],"key":"FgoFrRN6ow"}],"key":"F3x8Ptslx4"},{"type":"heading","depth":2,"position":{"start":{"line":367,"column":1},"end":{"line":367,"column":1}},"children":[{"type":"text","value":"Further reading","position":{"start":{"line":367,"column":1},"end":{"line":367,"column":1}},"key":"WRTrKqB3qD"}],"identifier":"further-reading","label":"Further reading","html_id":"further-reading","implicit":true,"key":"YmuTCs9gm5"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":369,"column":1},"end":{"line":369,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":369,"column":1},"end":{"line":369,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"There are various versions of the ","position":{"start":{"line":369,"column":1},"end":{"line":369,"column":1}},"key":"vMvFf8TVM4"},{"type":"link","url":"https://en.wikipedia.org/wiki/Student%27s_t-test","position":{"start":{"line":369,"column":1},"end":{"line":369,"column":1}},"children":[{"type":"text","value":"Student’s t-test","position":{"start":{"line":369,"column":1},"end":{"line":369,"column":1}},"key":"U8dPp7xiVy"}],"urlSource":"https://en.wikipedia.org/wiki/Student%27s_t-test","data":{"page":"Student%27s_t-test","wiki":"https://en.wikipedia.org/","lang":"en"},"internal":false,"protocol":"wiki","key":"EjsH4oKtyN"},{"type":"text","value":" that you can adopt according to your needs.","position":{"start":{"line":369,"column":1},"end":{"line":369,"column":1}},"key":"q3uBYuWrVh"}],"key":"Akrq053pWU"}],"key":"avdcAY0Lqc"}],"key":"DnRw6bl8bH"}],"key":"ashM8yAHht"}],"key":"bGDyaSy90p"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"Plotting Fractals","url":"/tutorial-plotting-fractals","group":"Applications"},"next":{"title":"Linear algebra on n-dimensional arrays","short_title":"Linear Algebra on n-D arrays","url":"/tutorial-svd","group":"Features"}}},"domain":"http://localhost:3000"}